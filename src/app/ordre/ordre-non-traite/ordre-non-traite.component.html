<div class="row">
    <!--end col-->

    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
             <h4 class="mt-0 header-title"  style="margin:55px 0;color: rgb(210, 30, 114);text-align: center;"> Liste ordre Non Traiter</h4>
            

             <div class="row" >
                <!-- <div class="col-xs-3 col-3 col-md-3 "> -->
                    <div class="col-xl-5 mb-3">
                        <div class="mt-0 header-title"><span  style="color: #FF3D68; margin:80px">FILTRE PAR DATE</span></div>
               
                  </div>
                <!-- date time picker component -->
                <div class="col-xl-3 mb-3">
                    <div class="input-group" >
                <!-- <div class="col-xs-3 col-4 col-md-4 form-group">  -->
                      <span class="input-group-text"><i class="mdi mdi-calendar-today"></i> </span> 
                 <input type="text"  id="Min" [(ngModel)]="Min"   placeholder=" MM-DD-YYYY "  class="dateadded form-control"  >   
                <!-- <input type="date"     class="dateadded form-control"-->   
                 </div> 
                 </div>
              <div class="col-xl-3 mb-3">
                <div class="input-group" >

                <!-- <div class="col-xs-3 col-4 col-md-4 form-group">   -->
                    <span class="input-group-text"><i class="mdi mdi-calendar-today"></i> </span> 
                    <input type="text"    [(ngModel)]="Max " name="max" id="Max"    placeholder="MM-DD-YYYY " class="dateadded form-control"  >  
                <!-- </div>   -->
                </div> 
              </div>
            </div>
                   
      
             <div class="row">
            
         <div class="col-md-12">

                 <div class="pagination justify-content-end">
                    <div class="d-flex flex-row-reverse bd-highlight mb-2">
                       <div class="p-2 bd-highlight">
                         <select (change)="onTableSizeChange($event)" class="custom-select">
                           <option *ngFor="let size of tableSizes" [ngValue]="size">
                             {{ size }}
                           </option>
                         </select>
                       </div>
                     </div> 
                   </div>

         </div>
         </div>
             <!-- <div class="row">     -->
                <div class="row justify-content-center mt-5">
                       
                    <div *ngIf="Ordreintervention.length == 0"><h5>Pas des ordres interventions </h5></div>  
                 <div class="col-lg-4" *ngFor="let ordre of Ordreintervention of sortData |  dateordre:Min:Max  | paginate : {
                     itemsPerPage: tableSize,
                     currentPage: page,
                     totalItems: count
                   };  ">
                     
                     <div class="card profile-card">
                         <div class="card-body bg-danger p-0">
                             <div class="media p-3  align-items-center">  
                                <!-- <img src="http://127.0.0.1:1337/images/{{ordre.demandeintervention.equipementx.image}}" alt="equipement" class="rounded-circle thumb-lg">  -->
                                              
                                 <div class="media-body ml-3  align-self-center">
                                     <h5 class="mb-1 text-white">Date debut prévu</h5>
                                     <p class="mb-0  text-white">{{ordre.debutprevu |date: 'MM-dd-yyyy ' }}</p>                                                    
                                 </div>
                                 <a class="btn  btn-light btn-sm"   (click)="triggerModalView(modalData1,ordre.id)" ><i class="mdi mdi-eye "></i></a> 


                             </div>
                         </div>

                         <div class="card-body pb-0">
                          <h6 class="text-center" style="color: #17a2b8"  > Panne </h6>
                             <p class="font-14 text-center"  style="color: rgb(44, 40, 42);" class="colp"  >{{ordre.demandeintervention.panne}}</p>
                             <!-- <h6 class="text-center" style=" color:#17a2b8" > Description </h6>
                             <p   style="color: rgb(44, 40, 42);" class="colp">{{ordre.demandeintervention.description}}</p> -->
                             
                            
                         </div>
                         
                         <div class="card-body socials-data pb-0 px-0">
                             <h6 class="text-center" style=" color:#17a2b8"> </h6>
                             <p class="font-14"></p>                               
                         </div>

                         <div class="card-body socials-data pb-0 px-0">
                             <div class="row text-center border-top m-0">
                                 <div class="col-6 border-right py-3">
                                     <h5 class="mt-0 mb-1"  >Etat</h5>
                                     <span class="badge badge-danger" >{{ordre.etat}}</span>
                                 </div>
                                 <div class="col-6 border-right py-3">

                                     <h5 class="mt-0 mb-1" style="color: rgb(19, 3, 10);">Panne</h5>
                                     <span class="font-k"  style="color: rgb(19, 3, 10);" >{{ordre.degre_urgence}}</span>
                                 </div>                                         
                             </div>
                         </div>       
                         

                 </div>
             </div>
         </div>

         <div class="row">
             <div class="col-lg-12">
 
         <div class="d-flex justify-content-center">
                     <pagination-controls  previousLabel="Précédent"  nextLabel="Suivant" (pageChange)="onTableDataChange($event)">
                     </pagination-controls>
         </div>
             </div>
          </div> 

 </div>
 </div>
 </div>
</div>


<ng-template #modalData1 let-modal>
 
        
    <div class="modal-header">                      
        <h4 class="mt-0 header-title"  style="color:#38A3A5;text-align:center;"> Détails ordre d'intervention traité </h4>
    </div>   

    <div class="modal-body">   


<div class="row">
    <!--end col-->

       <div class="col-lg-12">
                <div class="card-body">
              
               

                    <div class="card-card">
                        <!-- <div class="card-body invoice-head"> 
                            <div class="row">
                                <div class="col-md-4 align-self-center">                                                
                                    <img src="assets/images/logo.png" alt="logo-small" class="logo-sm mr-2" height="38">                                            
                                    <img src="assets/images/log.png" alt="logo-large" class="logo-lg" height="18">                                               
                                </div>
                                <div class="col-md-8">
                                    
                                    <ul class="list-inline mb-0 contact-detail float-right">                                                   
                                        <li class="list-inline-item">
                                            <div class="pl-3">
                                                <i class="mdi mdi-web"></i>
                                                <p class="text-muted mb-0">www.GMAO.com</p>
                                            </div>                                                
                                        </li>
                                        <li class="list-inline-item">
                                            <div class="pl-3">
                                                <i class="mdi mdi-phone"></i>
                                                <p class="text-muted mb-0">+216{{  Usertel}}
                                                    </p>
                                            </div>
                                        </li>
                                        
                                        
                                    </ul>
                                </div>
                            </div> 
                        </div> -->
                        <div class="card-body">
                            <!-- <h4 class="mt-0 header-title"  style="margin:55px 0;color: rgb(210, 30, 114);text-align: center;"> Détails de demande  interventions planifié</h4> -->

                           
                                
                           
                            <div class="row">
                                <div class="col-lg-12">
                                        <div class="card card-body text-center">
                                            <h4 class="card-title mt-0" style=" color:#DB6400;"> Note sur  demande intervention
                                            </h4>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <h5 class="my-1" >Date demande </h5>
                                                    <p class="text mb-2" style=" color:#111110;">        
                                                    {{ordreintervention.demandeintervention.date | date:'MM-dd-yyyy'}} </p>
                                                </div>

                                                <div class="col-md-4">
                                                    <h5 class="my-1">Description </h5>
                                                    <p class="text mb-2" style=" color:#111110;">{{ordreintervention.demandeintervention.description}}</p>
                                                 </div>
                                                <div class="col-md-4">
        
                                                    <h5 class="my-1"> Panne</h5>
                                                     <p class="text mb-2" style=" color:#111110;">{{ordreintervention.demandeintervention.panne}}</p> 
                                                </div>
                                        </div>
                                    </div>
                                </div>
                                </div>


                         
  
                            <div class="row">
                                <div class="col-lg-12">
                                        <div class="card card-body text-center">
                                            <h4 class="card-title mt-0" style=" color:#DB6400;"> Informations sur ordre d'intervention
                                            </h4>
                                            <p class="card-text"></p>                                        
                            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                                <div class="">
                                    <div class="tracking-timeline">
                                        <ul class="timeline mt-4">
                                            <li>
                                                <p class="timeline-date"> {{ordreintervention.debutprevu | date:'MM-dd-yyyy'}}</p>
                                                <div class="timeline-content">
                                                    <div class="track-info">
                                                        <h5 class="mt-0 mb-1">ETAT </h5>
                                                        <span class="badge badge-danger" style=" font-size:15px;">{{ordreintervention.etat}}</span>
                                                    </div> 
                                                    </div> 
                                                    </li>
                                                    </ul>
                                                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                            
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card card-body text-center">
                                         <h4 class="card-title mt-0"  style="color:#DB6400;" >Equipements liés à cette ordre intervention</h4>
                                         <div class="pricingTable1 text-center" >
                                                 <img src ="http://127.0.0.1:1337/images/{{ordreintervention.demandeintervention.equipementx.image}}"  alt="" class=" mx-auto  d-block"  width ="200" height="200">

                                                    <div class="card-post ">
                                                           <strong> 
                                                               {{ordreintervention.demandeintervention.equipementx.libelle}}
                                                            </strong>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="pricingTable1 text-center">
                                                    <ul class="list-unstyled pricing-content-2 py-3 border-0">
                                                        <li><strong>Marque:</strong>{{ordreintervention.demandeintervention.equipementx.marque}}</li>
                                                        <li><strong>Numéro model:</strong> {{ordreintervention.demandeintervention.equipementx.numero_model}} </li>
                                                        <li><strong>Numéro série:</strong>Numéro série:{{ordreintervention.demandeintervention.equipementx.numero_serie}} </li>
                                                    </ul>
                                                    </div>
                                                </div>
                                        </div>
                                </div>
                                </div>
    
    
                               
                                </div>
                            </div>

                        </div>                    
            
     


<div class="modal-footer">
    <input type="button" class="btn btn-danger" data-dismiss="modal" (click)="modal.close('Save click')"  value="Fermer">
    </div>

            
        </div>
        </div>
</div>
</ng-template>