
<div class="row">
    <!--end col-->

       <div class="col-lg-12">
           <div class="card">
               <div class="card-body">
                <div class="">
                    <ol class="breadcrumb">
                        <li class="d-inline-block align-middle mb-0 product-name"><a href="javascript:void(0);"
                            style="color:rgb(210, 30, 114)"   routerLink='/Viewintervention'>Gestion de demande </a></li>
                        <!-- <li class="d-inline-block align-middle mb-0 product-name"><a
                                href="javascript:void(0);"></a>Intervention </li> -->
                        <li class="d-inline-block align-middle mb-0 product-name"><a
                                href="javascript:void(0);"></a>Gestion de demande des piéces 
                        </li>
                    </ol>
                </div>
                <div class="card-body invoice-head"> 
                    <div class="row">
                        <div class="col-md-4 align-self-center">                                                
                            <img src="assets/images/logo.png" alt="logo-small" class="logo-sm mr-2" height="38">                                            
                            <img src="assets/images/log.png" alt="logo-large" class="logo-lg" height="18">                                               
                        </div>
                        <div class="col-md-8">
                               
                            <ul class="list-inline mb-0 contact-detail float-right">                                                   
                                <li class="list-inline-item">
                                    <div class="pl-3">
                                        <i class="mdi mdi-web"></i>
                                        <p class="text-muted mb-0">www.GMAO.com</p>
                                    </div>                                                
                                </li>
                                <li class="list-inline-item">
                                    <div class="pl-3">
                                        <i class="mdi mdi-phone"></i>
                                        <p class="text-muted mb-0">{{ Usertel}}</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div> 
                </div>

            
                <div class="row">
                       
                    <div class="col-md-12">
        
                            <div class="pagination justify-content-end">
                               <div class="d-flex flex-row-reverse bd-highlight mb-2">
                                  <div class="p-2 bd-highlight">
                                    <select (change)="onTableSizeChange($event)" class="custom-select">
                                      <option *ngFor="let size of tableSizes" [ngValue]="size">
                                        {{ size }}
                                      </option>
                                    </select>
                                  </div>
                                </div> 
                              </div>
        
                    </div>
                    </div>


                <div class="col-sm-12"  *ngFor="let demande of Demandepiece of sortData | paginate : {
                    itemsPerPage: tableSize,
                    currentPage: page,
                    totalItems: count
                  }; ">
                    <div class="card-block">
                        <ul>
                        <li style="font-weight: bold; font-size: 16px;">Le technicien <code style="font-size:17px;font-weight: bolder;">{{demande.intervention.ordreintervention.technicien.nom}} {{demande.intervention.ordreintervention.technicien.prenom}}</code> a été déclaré pour l'intervention de <code style="font-size:17px;font-weight: bolder;">{{demande.intervention.date_debut |date: 'MM-dd-yyyy HH:mm' }}</code> les piéces suivante : </li>
                        </ul>

                        <div class="table-responsive">
                            <table class="table mb-0 table-centered">
                                <thead>
                                <tr style=" background-color: #dbe6fd;
                                color: white;">
                                    <th scope="col" style="color: rgb(10, 9, 9)">Image</th>
                                    <th scope="col" style="color: rgb(10, 9, 9)">Quantité</th>
                                    <th scope="col" style="color: rgb(10, 9, 9)">Piéce</th>
                                    <th scope="col" style="color: rgb(10, 9, 9)">Réference</th>
                                   
                                </tr>
                                </thead>
                                <tbody>
                                <tr  *ngFor="let piece of demande.list">
                                    <td><img  id="image"  src ="http://127.0.0.1:1337/images/{{piece.ObjectPiece.image}}"  alt="image" class="img-fluid" class="rounded-circle thumb-sm mr-1">
                                    </td>
                                    <td>{{piece.quantite}}</td>
                                    <td>{{piece.ObjectPiece.nom_piece}}</td>
                                    <td> {{piece.ObjectPiece.ref_piece}}</td>
                                    
                                </tr>
                                </tbody>
                            </table><!--end /table-->
                        </div>

                  

                            
                        </div>
          
          
 </div>
 <div class="row" >
    <div class="col-xl-2 mb-3">
    </div>
    <div class="col-xl-6 mb-3">
   <div class="d-flex justify-content-center">
    <pagination-controls  previousLabel="Précédent"  nextLabel="Suivant" (pageChange)="onTableDataChange($event)">
    </pagination-controls>
</div>
</div>
</div>

</div>
</div>
</div>
</div>
